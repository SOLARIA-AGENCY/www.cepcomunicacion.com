# ========================================
# CEPComunicacion v2 - Environment Configuration
# ========================================
# IMPORTANT: Copy this file to .env and fill in the values
# Never commit .env to version control
# ========================================

# ========================================
# ENVIRONMENT
# ========================================
NODE_ENV=production
# Options: development, staging, production

# ========================================
# DATABASE - PostgreSQL
# ========================================
POSTGRES_DB=cepcomunicacion
POSTGRES_USER=cepadmin
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
# Generate: openssl rand -base64 32

DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ========================================
# REDIS - Cache & Queue
# ========================================
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
# Generate: openssl rand -base64 24

# ========================================
# PAYLOAD CMS
# ========================================
PAYLOAD_SECRET=CHANGE_ME_PAYLOAD_SECRET_32_CHARS_MIN
# Generate: openssl rand -base64 48
# CRITICAL: Must be at least 32 characters

# ========================================
# MINIO - S3-Compatible Storage
# ========================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD
# Generate: openssl rand -base64 24

# MinIO browser redirect URL (for production)
MINIO_BROWSER_REDIRECT_URL=https://minio.cepcomunicacion.com

# S3 buckets
S3_BUCKET=cep-uploads
S3_BACKUP_BUCKET=cep-backups
S3_REGION=us-east-1

# ========================================
# SMTP - Email Configuration
# ========================================
# Development (MailHog)
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=

# Production (Postfix or external SMTP)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_SECURE=true

SMTP_FROM=noreply@cepcomunicacion.com

# ========================================
# BULLBOARD - Queue Monitoring
# ========================================
BULLBOARD_USER=admin
BULLBOARD_PASSWORD=CHANGE_ME_BULLBOARD_PASSWORD
# Generate: openssl rand -base64 16

# ========================================
# BACKUP CONFIGURATION
# ========================================
BACKUP_SCHEDULE=0 3 * * *
# Cron format: minute hour day month weekday
# Default: 3:00 AM UTC daily

BACKUP_RETENTION_DAYS=30
# Keep backups for 30 days

RUN_INITIAL_BACKUP=true
# Run backup immediately on container start

# ========================================
# FRONTEND - React Application
# ========================================
VITE_API_URL=https://cepcomunicacion.com/api
# Full URL to API endpoint

# ========================================
# CORS CONFIGURATION
# ========================================
CORS_ORIGINS=https://cepcomunicacion.com,https://www.cepcomunicacion.com
# Comma-separated list of allowed origins

# ========================================
# ANALYTICS (OPTIONAL)
# ========================================
VITE_ENABLE_ANALYTICS=false
# Set to true to enable analytics

# Google Analytics 4
VITE_GA4_ID=
# Example: G-XXXXXXXXXX

# Plausible Analytics
VITE_PLAUSIBLE_DOMAIN=
# Example: cepcomunicacion.com

# ========================================
# CAPTCHA (OPTIONAL)
# ========================================
VITE_HCAPTCHA_SITE_KEY=
# Get from: https://www.hcaptcha.com/

HCAPTCHA_SECRET_KEY=
# Server-side secret key

# ========================================
# EXTERNAL INTEGRATIONS (ALL OPTIONAL)
# ========================================
# NOTE: System works WITHOUT these APIs
# Leave empty to disable integrations
# ========================================

# ----------------------------------------
# Meta Ads API (Optional)
# ----------------------------------------
ENABLE_META_INTEGRATION=false
# Set to true only if you have Meta credentials

META_APP_ID=
# Get from: https://developers.facebook.com/apps/

META_APP_SECRET=
# Get from: https://developers.facebook.com/apps/

META_ACCESS_TOKEN=
# Long-lived page access token

META_PIXEL_ID=
# Example: 1234567890123456

# ----------------------------------------
# Mailchimp API (Optional)
# ----------------------------------------
ENABLE_MAILCHIMP_INTEGRATION=false
# Set to true only if you have Mailchimp account

MAILCHIMP_API_KEY=
# Get from: Account → Extras → API Keys
# Format: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx-us1

MAILCHIMP_SERVER_PREFIX=
# Example: us1 (from API key ending)

MAILCHIMP_LIST_ID=
# Audience ID from Mailchimp

# ----------------------------------------
# WhatsApp Cloud API (Optional)
# ----------------------------------------
ENABLE_WHATSAPP_INTEGRATION=false
# Set to true only if you have WhatsApp Business API

WHATSAPP_PHONE_ID=
# Get from: Meta App Dashboard → WhatsApp → API Setup

WHATSAPP_ACCESS_TOKEN=
# Get from: Meta App Dashboard → WhatsApp

# ----------------------------------------
# LLM APIs (Optional)
# ----------------------------------------
ENABLE_LLM_INTEGRATION=false
# Set to true only if you have LLM API keys

LLM_PROVIDER=none
# Options: openai, anthropic, none

# OpenAI
OPENAI_API_KEY=
# Get from: https://platform.openai.com/api-keys
# Format: sk-...

# Anthropic Claude
ANTHROPIC_API_KEY=
# Get from: https://console.anthropic.com/
# Format: sk-ant-...

# ----------------------------------------
# Feature Flags
# ----------------------------------------
VITE_ENABLE_LLM=false
# Show LLM features in frontend

VITE_ENABLE_WHATSAPP=false
# Show WhatsApp integration in frontend

# ========================================
# SSL/TLS CONFIGURATION
# ========================================
# Domain for SSL certificates
DOMAIN=cepcomunicacion.com
# Primary domain

DOMAIN_ALIASES=www.cepcomunicacion.com
# Comma-separated alternative domains

# Let's Encrypt email
LETSENCRYPT_EMAIL=admin@cepcomunicacion.com
# For certificate renewal notifications

# ========================================
# SECURITY
# ========================================
# Session secret (for cookies)
SESSION_SECRET=CHANGE_ME_SESSION_SECRET
# Generate: openssl rand -base64 32

# JWT secret (if using custom JWT auth)
JWT_SECRET=CHANGE_ME_JWT_SECRET
# Generate: openssl rand -base64 48

# ========================================
# MONITORING (OPTIONAL)
# ========================================
# Sentry for error tracking
SENTRY_DSN=
# Get from: https://sentry.io/

# ========================================
# DEVELOPMENT OVERRIDES
# ========================================
# Uncomment for local development

# NODE_ENV=development
# VITE_API_URL=http://localhost:3000/api
# POSTGRES_PASSWORD=dev_password_change_me
# REDIS_PASSWORD=dev_redis_password
# MINIO_ROOT_PASSWORD=dev_minio_password
# PAYLOAD_SECRET=dev_payload_secret_minimum_32_characters
# BULLBOARD_PASSWORD=admin

# ========================================
# NOTES
# ========================================
# 1. Generate secure passwords:
#    openssl rand -base64 32
#
# 2. All external APIs are OPTIONAL
#    System works in degraded mode without them
#
# 3. For production:
#    - Change ALL passwords
#    - Set strong PAYLOAD_SECRET (32+ chars)
#    - Configure SSL domain
#    - Review CORS_ORIGINS
#
# 4. For development:
#    - Use simpler passwords
#    - Keep MailHog for email testing
#    - Disable external integrations
#
# 5. Backup credentials:
#    - Store in password manager
#    - Never commit .env to git
#    - Share securely with team
# ========================================
